<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>SLAMflex SE: libSLAMflex -  android project/jni/KeyFrame.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../thumbnail.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">SLAMflex SE
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">SLAMflex provides detection and tracking of dominant planes for smartphone devices. This plane can then be used to show AR content relative to the plane orientation. The detection of plane is performed in the field of view of the smartphone camera. In subsequent frames it is tracked. The interface returns the plane position and orientation.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_64138f433da6323d37c35d94c20fed44.html">libSLAMflex -  android project</a></li><li class="navelem"><a class="el" href="../../dir_f496a2d090f5040e1d0b8f142d0646a8.html">jni</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">KeyFrame.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d7/d41/a00532.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// -*- c++ -*-</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Copyright 2008 Isis Innovation Limited</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This header declares the data structures to do with keyframes:</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// structs KeyFrame, Level, Measurement, Candidate.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// </span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// A KeyFrame contains an image pyramid stored as array of Level;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// A KeyFrame also has associated map-point mesurements stored as a vector of Measurment;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// Each individual Level contains an image, corner points, and special corner points</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// which are promoted to Candidate status (the mapmaker tries to make new map points from those.)</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// KeyFrames are stored in the Map class and manipulated by the MapMaker.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// However, the tracker also stores its current frame as a half-populated</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// KeyFrame struct.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#ifndef __KEYFRAME_H</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#define __KEYFRAME_H</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d8a/a00599.html">TooN.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../d0/de7/a00523.html">TooN</a>;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d21/a00573.html">se3.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d35/a00526.html">image.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/df1/a00486.html">byte.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d4d/a00519.html">globals.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">class </span><a class="code" href="../../d9/d21/a00240.html">MapPoint</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">class </span><a class="code" href="../../db/d95/a00391.html">SmallBlurryImage</a>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="../../d7/d41/a00532.html#a6458dd35f4831329061f763080655cf7">   33</a></span>&#160;<span class="preprocessor">#define LEVELS 4</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// Candidate: a feature in an image which could be made into a map point</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="../../d1/dc6/a00037.html">   36</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dc6/a00037.html">Candidate</a></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;{</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="../../d1/dc6/a00037.html#a6a248428aa892f2f571bd280ff4915ee">   38</a></span>&#160;  <a class="code" href="../../d7/da0/a00198.html">CVD::ImageRef</a> <a class="code" href="../../d1/dc6/a00037.html#a6a248428aa892f2f571bd280ff4915ee">irLevelPos</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="../../d1/dc6/a00037.html#a324c13a7a800e8569a0fd5ab215b0f9a">   39</a></span>&#160;  <a class="code" href="../../d9/d69/a00451.html">Vector&lt;2&gt;</a> <a class="code" href="../../d1/dc6/a00037.html#a324c13a7a800e8569a0fd5ab215b0f9a">v2RootPos</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="../../d1/dc6/a00037.html#af34c2333962dfc180489358e0a93c93d">   40</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="../../d1/dc6/a00037.html#af34c2333962dfc180489358e0a93c93d">dSTScore</a>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;};</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">// Measurement: A 2D image measurement of a map point. Each keyframe stores a bunch of these.</span></div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="../../d3/d1a/a00251.html">   44</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d3/d1a/a00251.html">Measurement</a></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="../../d3/d1a/a00251.html#a66c7c032b20703d9e081527bb30f086b">   46</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d3/d1a/a00251.html#a66c7c032b20703d9e081527bb30f086b">nLevel</a>;   <span class="comment">// Which image level?</span></div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="../../d3/d1a/a00251.html#a94a607fe08b7bc351c58ef685a99cc27">   47</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../d3/d1a/a00251.html#a94a607fe08b7bc351c58ef685a99cc27">bSubPix</a>; <span class="comment">// Has this measurement been refined to sub-pixel level?</span></div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="../../d3/d1a/a00251.html#a5f70cb9184ceda4c08eb7a87ec415017">   48</a></span>&#160;  <a class="code" href="../../d9/d69/a00451.html">Vector&lt;2&gt;</a> <a class="code" href="../../d3/d1a/a00251.html#a5f70cb9184ceda4c08eb7a87ec415017">v2RootPos</a>;  <span class="comment">// Position of the measurement, REFERED TO PYRAMID LEVEL ZERO</span></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="../../d3/d1a/a00251.html#a35f6df617a54c2b0feaa68df21fa9113ac615ce28616d89dc3458d23f76565256">   49</a></span>&#160;  <span class="keyword">enum</span> {SRC_TRACKER, SRC_REFIND, SRC_ROOT, <a class="code" href="../../d3/d1a/a00251.html#a35f6df617a54c2b0feaa68df21fa9113ac615ce28616d89dc3458d23f76565256">SRC_TRAIL</a>, SRC_EPIPOLAR} Source; <span class="comment">// Where has this measurement come frome?</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;};</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">// Each keyframe is made of LEVELS pyramid levels, stored in struct Level.</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">// This contains image data and corner points.</span></div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="../../d0/d53/a00232.html">   54</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/d53/a00232.html">Level</a></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;{</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="../../d0/d53/a00232.html#a7a696c928ca5d5354db6e50e46d0f67d">   56</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="../../d0/d53/a00232.html#a7a696c928ca5d5354db6e50e46d0f67d">Level</a>()</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    bImplaneCornersCached = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="../../d0/d53/a00232.html#aa2fda57784edbadc7673541d76d32384">   59</a></span>&#160;  };</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <a class="code" href="../../d7/d6e/a00190.html">CVD::Image&lt;CVD::byte&gt;</a> im;                <span class="comment">// The pyramid level pixels</span></div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="../../d0/d53/a00232.html#a6a78a28fc72de71b2640f6aef2161b07">   62</a></span>&#160;  std::vector&lt;CVD::ImageRef&gt; <a class="code" href="../../d0/d53/a00232.html#a6a78a28fc72de71b2640f6aef2161b07">vCorners</a>;     <span class="comment">// All FAST corners on this level</span></div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="../../d0/d53/a00232.html#a472bebefbe0a11eb90c7e7ad60bcf4cd">   63</a></span>&#160;  std::vector&lt;int&gt; <a class="code" href="../../d0/d53/a00232.html#a472bebefbe0a11eb90c7e7ad60bcf4cd">vCornerRowLUT</a>;          <span class="comment">// Row-index into the FAST corners, speeds up access</span></div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="../../d0/d53/a00232.html#a77050a0a1df3c46ee3db6fa094cd3109">   64</a></span>&#160;  std::vector&lt;CVD::ImageRef&gt; <a class="code" href="../../d0/d53/a00232.html#a77050a0a1df3c46ee3db6fa094cd3109">vMaxCorners</a>;  <span class="comment">// The maximal FAST corners</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <a class="code" href="../../d0/d53/a00232.html">Level</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="../../d0/d53/a00232.html">Level</a> &amp;rhs);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  </div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="../../d0/d53/a00232.html#a36ae51f17356652e76d6ef3f9fb94a06">   67</a></span>&#160;  std::vector&lt;Candidate&gt; <a class="code" href="../../d0/d53/a00232.html#a36ae51f17356652e76d6ef3f9fb94a06">vCandidates</a>;   <span class="comment">// Potential locations of new map points</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../d0/d53/a00232.html#af7aeb49dc6feb05123de49d9c17cecfc">   69</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../d0/d53/a00232.html#af7aeb49dc6feb05123de49d9c17cecfc">bImplaneCornersCached</a>;           <span class="comment">// Also keep image-plane (z=1) positions of FAST corners to speed up epipolar search</span></div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="../../d0/d53/a00232.html#ae808e99245a500d750e5b2b0020ca4ce">   70</a></span>&#160;  std::vector&lt;Vector&lt;2&gt; &gt; <a class="code" href="../../d0/d53/a00232.html#ae808e99245a500d750e5b2b0020ca4ce">vImplaneCorners</a>; <span class="comment">// Corner points un-projected into z=1-plane coordinates</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;};</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">// The actual KeyFrame struct. The map contains of a bunch of these. However, the tracker uses this</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">// struct as well: every incoming frame is turned into a keyframe before tracking; most of these </span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">// are then simply discarded, but sometimes they&#39;re then just added to the map.</span></div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="../../dc/d55/a00226.html">   76</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dc/d55/a00226.html">KeyFrame</a></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;{</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="../../dc/d55/a00226.html#abac306ebaa984268b353789fe9420f85">   78</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="../../dc/d55/a00226.html#abac306ebaa984268b353789fe9420f85">KeyFrame</a>()</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    pSBI = NULL;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  }</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="../../dc/d55/a00226.html#a11ad67f26985d5400a466e2baa8fafa9">   82</a></span>&#160;  <a class="code" href="../../df/d73/a00358.html">SE3&lt;&gt;</a> <a class="code" href="../../dc/d55/a00226.html#a11ad67f26985d5400a466e2baa8fafa9">se3CfromW</a>;    <span class="comment">// The coordinate frame of this key-frame as a Camera-From-World transformation</span></div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="../../dc/d55/a00226.html#a9ec9520a915b479c66d6c36402a48d75">   83</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../dc/d55/a00226.html#a9ec9520a915b479c66d6c36402a48d75">bFixed</a>;      <span class="comment">// Is the coordinate frame of this keyframe fixed? (only true for first KF!)</span></div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="../../dc/d55/a00226.html#a4962879f78735ad057b1e943a36ae9f6">   84</a></span>&#160;  <a class="code" href="../../d0/d53/a00232.html">Level</a> aLevels[<a class="code" href="../../d7/d41/a00532.html#a6458dd35f4831329061f763080655cf7">LEVELS</a>];  <span class="comment">// Images, corners, etc lives in this array of pyramid levels</span></div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="../../dc/d55/a00226.html#a10f009ec03cf0da1e9d2d22445f492b6">   85</a></span>&#160;  std::map&lt;MapPoint*, Measurement&gt; <a class="code" href="../../dc/d55/a00226.html#a10f009ec03cf0da1e9d2d22445f492b6">mMeasurements</a>;           <span class="comment">// All the measurements associated with the keyframe</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordtype">int</span> MakeKeyFrame_Lite(<a class="code" href="../../dc/d87/a00032.html">CVD::BasicImage&lt;CVD::byte&gt;</a> &amp;im, <span class="keywordtype">int</span> <a class="code" href="../../de/d85/a00618.html#adb0766af82c81f5d5d80dfd49009c8a3">threshold</a>);   <span class="comment">// This takes an image and calculates pyramid levels etc to fill the</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                                                            <span class="comment">// keyframe data structures with everything that&#39;s needed by the tracker..</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordtype">void</span> MakeKeyFrame_Rest();                                 <span class="comment">// ... while this calculates the rest of the data which the mapmaker needs.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  </div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="../../dc/d55/a00226.html#a994d0023adb8348cfa6ecd4f61db0b8b">   91</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="../../dc/d55/a00226.html#a994d0023adb8348cfa6ecd4f61db0b8b">dSceneDepthMean</a>;      <span class="comment">// Hacky hueristics to improve epipolar search.</span></div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="../../dc/d55/a00226.html#a666d792dbb1302b0ebfc38f2d8355e76">   92</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="../../dc/d55/a00226.html#a666d792dbb1302b0ebfc38f2d8355e76">dSceneDepthSigma</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  </div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="../../dc/d55/a00226.html#a8e4056b6358b9ace6e4d0da2194c7594">   94</a></span>&#160;  <a class="code" href="../../db/d95/a00391.html">SmallBlurryImage</a> *<a class="code" href="../../dc/d55/a00226.html#a8e4056b6358b9ace6e4d0da2194c7594">pSBI</a>; <span class="comment">// The relocaliser uses this</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;};</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="../../d7/d41/a00532.html#a683a761fc48a5b3913ef277030403c86">   97</a></span>&#160;<span class="keyword">typedef</span> std::map&lt;MapPoint*, Measurement&gt;::iterator <a class="code" href="../../d7/d41/a00532.html#a683a761fc48a5b3913ef277030403c86">meas_it</a>;  <span class="comment">// For convenience, and to work around an emacs paren-matching bug</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="ttc" id="a00251_html_a94a607fe08b7bc351c58ef685a99cc27"><div class="ttname"><a href="../../d3/d1a/a00251.html#a94a607fe08b7bc351c58ef685a99cc27">Measurement::bSubPix</a></div><div class="ttdeci">bool bSubPix</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00047">KeyFrame.h:47</a></div></div>
<div class="ttc" id="a00532_html_a683a761fc48a5b3913ef277030403c86"><div class="ttname"><a href="../../d7/d41/a00532.html#a683a761fc48a5b3913ef277030403c86">meas_it</a></div><div class="ttdeci">std::map&lt; MapPoint *, Measurement &gt;::iterator meas_it</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00097">KeyFrame.h:97</a></div></div>
<div class="ttc" id="a00226_html_a8e4056b6358b9ace6e4d0da2194c7594"><div class="ttname"><a href="../../dc/d55/a00226.html#a8e4056b6358b9ace6e4d0da2194c7594">KeyFrame::pSBI</a></div><div class="ttdeci">SmallBlurryImage * pSBI</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00094">KeyFrame.h:94</a></div></div>
<div class="ttc" id="a00391_html"><div class="ttname"><a href="../../db/d95/a00391.html">SmallBlurryImage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d92/a00586_source.html#l00017">SmallBlurryImage.h:17</a></div></div>
<div class="ttc" id="a00532_html_a6458dd35f4831329061f763080655cf7"><div class="ttname"><a href="../../d7/d41/a00532.html#a6458dd35f4831329061f763080655cf7">LEVELS</a></div><div class="ttdeci">#define LEVELS</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00033">KeyFrame.h:33</a></div></div>
<div class="ttc" id="a00037_html_a324c13a7a800e8569a0fd5ab215b0f9a"><div class="ttname"><a href="../../d1/dc6/a00037.html#a324c13a7a800e8569a0fd5ab215b0f9a">Candidate::v2RootPos</a></div><div class="ttdeci">Vector&lt; 2 &gt; v2RootPos</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00039">KeyFrame.h:39</a></div></div>
<div class="ttc" id="a00226_html_abac306ebaa984268b353789fe9420f85"><div class="ttname"><a href="../../dc/d55/a00226.html#abac306ebaa984268b353789fe9420f85">KeyFrame::KeyFrame</a></div><div class="ttdeci">KeyFrame()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00078">KeyFrame.h:78</a></div></div>
<div class="ttc" id="a00226_html_a9ec9520a915b479c66d6c36402a48d75"><div class="ttname"><a href="../../dc/d55/a00226.html#a9ec9520a915b479c66d6c36402a48d75">KeyFrame::bFixed</a></div><div class="ttdeci">bool bFixed</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00083">KeyFrame.h:83</a></div></div>
<div class="ttc" id="a00523_html"><div class="ttname"><a href="../../d0/de7/a00523.html">TooN</a></div><div class="ttdoc">Everything lives inside this namespace. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dea/a00478_source.html#l00048">allocator.hh:48</a></div></div>
<div class="ttc" id="a00226_html_a666d792dbb1302b0ebfc38f2d8355e76"><div class="ttname"><a href="../../dc/d55/a00226.html#a666d792dbb1302b0ebfc38f2d8355e76">KeyFrame::dSceneDepthSigma</a></div><div class="ttdeci">double dSceneDepthSigma</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00092">KeyFrame.h:92</a></div></div>
<div class="ttc" id="a00599_html"><div class="ttname"><a href="../../d5/d8a/a00599.html">TooN.h</a></div></div>
<div class="ttc" id="a00232_html_af7aeb49dc6feb05123de49d9c17cecfc"><div class="ttname"><a href="../../d0/d53/a00232.html#af7aeb49dc6feb05123de49d9c17cecfc">Level::bImplaneCornersCached</a></div><div class="ttdeci">bool bImplaneCornersCached</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00069">KeyFrame.h:69</a></div></div>
<div class="ttc" id="a00190_html"><div class="ttname"><a href="../../d7/d6e/a00190.html">CVD::Image&lt; CVD::byte &gt;</a></div></div>
<div class="ttc" id="a00226_html"><div class="ttname"><a href="../../dc/d55/a00226.html">KeyFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00076">KeyFrame.h:76</a></div></div>
<div class="ttc" id="a00526_html"><div class="ttname"><a href="../../d0/d35/a00526.html">image.h</a></div></div>
<div class="ttc" id="a00232_html_a6a78a28fc72de71b2640f6aef2161b07"><div class="ttname"><a href="../../d0/d53/a00232.html#a6a78a28fc72de71b2640f6aef2161b07">Level::vCorners</a></div><div class="ttdeci">std::vector&lt; CVD::ImageRef &gt; vCorners</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00062">KeyFrame.h:62</a></div></div>
<div class="ttc" id="a00358_html"><div class="ttname"><a href="../../df/d73/a00358.html">TooN::SE3</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d21/a00573_source.html#l00050">se3.h:50</a></div></div>
<div class="ttc" id="a00232_html_ae808e99245a500d750e5b2b0020ca4ce"><div class="ttname"><a href="../../d0/d53/a00232.html#ae808e99245a500d750e5b2b0020ca4ce">Level::vImplaneCorners</a></div><div class="ttdeci">std::vector&lt; Vector&lt; 2 &gt; &gt; vImplaneCorners</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00070">KeyFrame.h:70</a></div></div>
<div class="ttc" id="a00226_html_a11ad67f26985d5400a466e2baa8fafa9"><div class="ttname"><a href="../../dc/d55/a00226.html#a11ad67f26985d5400a466e2baa8fafa9">KeyFrame::se3CfromW</a></div><div class="ttdeci">SE3 se3CfromW</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00082">KeyFrame.h:82</a></div></div>
<div class="ttc" id="a00618_html_adb0766af82c81f5d5d80dfd49009c8a3"><div class="ttname"><a href="../../de/d85/a00618.html#adb0766af82c81f5d5d80dfd49009c8a3">CVD::threshold</a></div><div class="ttdeci">void threshold(BasicImage&lt; T &gt; &amp;im, const T &amp;minimum, const T &amp;hi)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc0/a00611_source.html#l00163">vision.h:163</a></div></div>
<div class="ttc" id="a00032_html"><div class="ttname"><a href="../../dc/d87/a00032.html">CVD::BasicImage&lt; CVD::byte &gt;</a></div></div>
<div class="ttc" id="a00232_html"><div class="ttname"><a href="../../d0/d53/a00232.html">Level</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00054">KeyFrame.h:54</a></div></div>
<div class="ttc" id="a00037_html"><div class="ttname"><a href="../../d1/dc6/a00037.html">Candidate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00036">KeyFrame.h:36</a></div></div>
<div class="ttc" id="a00251_html_a5f70cb9184ceda4c08eb7a87ec415017"><div class="ttname"><a href="../../d3/d1a/a00251.html#a5f70cb9184ceda4c08eb7a87ec415017">Measurement::v2RootPos</a></div><div class="ttdeci">Vector&lt; 2 &gt; v2RootPos</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00048">KeyFrame.h:48</a></div></div>
<div class="ttc" id="a00251_html_a66c7c032b20703d9e081527bb30f086b"><div class="ttname"><a href="../../d3/d1a/a00251.html#a66c7c032b20703d9e081527bb30f086b">Measurement::nLevel</a></div><div class="ttdeci">int nLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00046">KeyFrame.h:46</a></div></div>
<div class="ttc" id="a00232_html_a472bebefbe0a11eb90c7e7ad60bcf4cd"><div class="ttname"><a href="../../d0/d53/a00232.html#a472bebefbe0a11eb90c7e7ad60bcf4cd">Level::vCornerRowLUT</a></div><div class="ttdeci">std::vector&lt; int &gt; vCornerRowLUT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00063">KeyFrame.h:63</a></div></div>
<div class="ttc" id="a00240_html"><div class="ttname"><a href="../../d9/d21/a00240.html">MapPoint</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddf/a00544_source.html#l00027">MapPoint.h:27</a></div></div>
<div class="ttc" id="a00226_html_a10f009ec03cf0da1e9d2d22445f492b6"><div class="ttname"><a href="../../dc/d55/a00226.html#a10f009ec03cf0da1e9d2d22445f492b6">KeyFrame::mMeasurements</a></div><div class="ttdeci">std::map&lt; MapPoint *, Measurement &gt; mMeasurements</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00085">KeyFrame.h:85</a></div></div>
<div class="ttc" id="a00198_html"><div class="ttname"><a href="../../d7/da0/a00198.html">CVD::ImageRef</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d81/a00528_source.html#l00047">image_ref.h:47</a></div></div>
<div class="ttc" id="a00486_html"><div class="ttname"><a href="../../db/df1/a00486.html">byte.h</a></div></div>
<div class="ttc" id="a00226_html_a994d0023adb8348cfa6ecd4f61db0b8b"><div class="ttname"><a href="../../dc/d55/a00226.html#a994d0023adb8348cfa6ecd4f61db0b8b">KeyFrame::dSceneDepthMean</a></div><div class="ttdeci">double dSceneDepthMean</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00091">KeyFrame.h:91</a></div></div>
<div class="ttc" id="a00232_html_a77050a0a1df3c46ee3db6fa094cd3109"><div class="ttname"><a href="../../d0/d53/a00232.html#a77050a0a1df3c46ee3db6fa094cd3109">Level::vMaxCorners</a></div><div class="ttdeci">std::vector&lt; CVD::ImageRef &gt; vMaxCorners</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00064">KeyFrame.h:64</a></div></div>
<div class="ttc" id="a00451_html"><div class="ttname"><a href="../../d9/d69/a00451.html">TooN::Vector&lt; 2 &gt;</a></div></div>
<div class="ttc" id="a00251_html"><div class="ttname"><a href="../../d3/d1a/a00251.html">Measurement</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00044">KeyFrame.h:44</a></div></div>
<div class="ttc" id="a00037_html_af34c2333962dfc180489358e0a93c93d"><div class="ttname"><a href="../../d1/dc6/a00037.html#af34c2333962dfc180489358e0a93c93d">Candidate::dSTScore</a></div><div class="ttdeci">double dSTScore</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00040">KeyFrame.h:40</a></div></div>
<div class="ttc" id="a00232_html_a36ae51f17356652e76d6ef3f9fb94a06"><div class="ttname"><a href="../../d0/d53/a00232.html#a36ae51f17356652e76d6ef3f9fb94a06">Level::vCandidates</a></div><div class="ttdeci">std::vector&lt; Candidate &gt; vCandidates</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00067">KeyFrame.h:67</a></div></div>
<div class="ttc" id="a00232_html_a7a696c928ca5d5354db6e50e46d0f67d"><div class="ttname"><a href="../../d0/d53/a00232.html#a7a696c928ca5d5354db6e50e46d0f67d">Level::Level</a></div><div class="ttdeci">Level()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00056">KeyFrame.h:56</a></div></div>
<div class="ttc" id="a00251_html_a35f6df617a54c2b0feaa68df21fa9113ac615ce28616d89dc3458d23f76565256"><div class="ttname"><a href="../../d3/d1a/a00251.html#a35f6df617a54c2b0feaa68df21fa9113ac615ce28616d89dc3458d23f76565256">Measurement::SRC_TRAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00049">KeyFrame.h:49</a></div></div>
<div class="ttc" id="a00573_html"><div class="ttname"><a href="../../d6/d21/a00573.html">se3.h</a></div></div>
<div class="ttc" id="a00037_html_a6a248428aa892f2f571bd280ff4915ee"><div class="ttname"><a href="../../d1/dc6/a00037.html#a6a248428aa892f2f571bd280ff4915ee">Candidate::irLevelPos</a></div><div class="ttdeci">CVD::ImageRef irLevelPos</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/a00532_source.html#l00038">KeyFrame.h:38</a></div></div>
<div class="ttc" id="a00519_html"><div class="ttname"><a href="../../dd/d4d/a00519.html">globals.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon May 25 2015 17:53:28 for SLAMflex SE by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
