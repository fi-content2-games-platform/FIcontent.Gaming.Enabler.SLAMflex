<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>SLAMflex SE: libSLAMflex -  android project/jni/Bundle.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../thumbnail.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">SLAMflex SE
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">SLAMflex provides detection and tracking of dominant planes for smartphone devices. This plane can then be used to show AR content relative to the plane orientation. The detection of plane is performed in the field of view of the smartphone camera. In subsequent frames it is tracked. The interface returns the plane position and orientation.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_64138f433da6323d37c35d94c20fed44.html">libSLAMflex -  android project</a></li><li class="navelem"><a class="el" href="../../dir_f496a2d090f5040e1d0b8f142d0646a8.html">jni</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Bundle.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d6/d1a/a00485.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// -*- c++ -*-</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Copyright 2008 Isis Innovation Limited</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#ifndef __BUNDLE_H</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#define __BUNDLE_H</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// Bundle.h</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// </span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// This file declares the Bundle class along with a few helper classes.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// Bundle is the bundle adjustment core of the mapping system; instances</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// of Bundle are generated by MapMaker to adjust the positions of </span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// keyframes (called Cameras in this file) and map points.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// It&#39;s a pretty straight-forward Levenberg-Marquardt bundle adjustment </span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// implementation closely following Hartley and Zisserman&#39;s MVG book, with</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// the addition of a robust M-Estimator.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// Unfortunately, having undergone a few tweaks, the code is now</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// not the easiest to read!</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// Basic operation: MapMaker creates a new Bundle object;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// then adds map points and keyframes to adjust;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// then adds measurements of map points in keyframes;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// then calls Compute() to do bundle adjustment;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// then reads results back to update the map.</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/dc5/a00480.html">ATANCamera.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d8a/a00599.html">TooN.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../d0/de7/a00523.html">TooN</a>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d21/a00573.html">se3.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;list&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d4d/a00519.html">globals.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">// An index into the big measurement map which stores all the measurements.</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">// Camera struct holds the pose of a keyframe</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">// and some computation intermediates</span></div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="../../de/d8c/a00036.html">   40</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../de/d8c/a00036.html">Camera</a></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;{</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="../../de/d8c/a00036.html#ac4a084203a2f051c9b41ef2f552517d1">   42</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../de/d8c/a00036.html#ac4a084203a2f051c9b41ef2f552517d1">bFixed</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="../../de/d8c/a00036.html#a6db112ab3a07d13290bc72654b4a494a">   43</a></span>&#160;  <a class="code" href="../../df/d73/a00358.html">SE3&lt;&gt;</a> <a class="code" href="../../de/d8c/a00036.html#a6db112ab3a07d13290bc72654b4a494a">se3CfW</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="../../de/d8c/a00036.html#a893d1ca216567d78ef618f8134b56e71">   44</a></span>&#160;  <a class="code" href="../../df/d73/a00358.html">SE3&lt;&gt;</a> <a class="code" href="../../de/d8c/a00036.html#a893d1ca216567d78ef618f8134b56e71">se3CfWNew</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="../../de/d8c/a00036.html#a0ab90dd2552d9f611dc17076212d8c42">   45</a></span>&#160;  <a class="code" href="../../d6/db6/a00241.html">Matrix&lt;6&gt;</a> <a class="code" href="../../de/d8c/a00036.html#a0ab90dd2552d9f611dc17076212d8c42">m6U</a>;          <span class="comment">// Accumulator</span></div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="../../de/d8c/a00036.html#a525ab230a879409ada62de33e348aa73">   46</a></span>&#160;  <a class="code" href="../../d9/d69/a00451.html">Vector&lt;6&gt;</a> <a class="code" href="../../de/d8c/a00036.html#a525ab230a879409ada62de33e348aa73">v6EpsilonA</a>;   <span class="comment">// Accumulator</span></div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="../../de/d8c/a00036.html#aa97ebd03827e09ad7ea072eecf80026e">   47</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../de/d8c/a00036.html#aa97ebd03827e09ad7ea072eecf80026e">nStartRow</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;};</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">// Camera-camera pair index</span></div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="../../dd/d86/a00271.html">   51</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dd/d86/a00271.html">OffDiagScriptEntry</a></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="../../dd/d86/a00271.html#a8c2d25fd8c758dfd1bc154993265a63b">   53</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../dd/d86/a00271.html#a8c2d25fd8c758dfd1bc154993265a63b">j</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="../../dd/d86/a00271.html#a3612a5381e369b88d44c68b3ee18ba0d">   54</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../dd/d86/a00271.html#a3612a5381e369b88d44c68b3ee18ba0d">k</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;};</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">// A map point, plus computation intermediates.</span></div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="../../db/ddf/a00164.html">   58</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../db/ddf/a00164.html">ExtendedMapPoint</a></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../db/ddf/a00164.html#a9a4ac22fdc8e1d9b8dd16e3baaa61d1e">   60</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="../../db/ddf/a00164.html#a9a4ac22fdc8e1d9b8dd16e3baaa61d1e">ExtendedMapPoint</a>()</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  { nMeasurements = 0; nOutliers = 0;}</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="../../db/ddf/a00164.html#acd19d8aaeee9346c22c14075af6a6c9b">   62</a></span>&#160;  <a class="code" href="../../d9/d69/a00451.html">Vector&lt;3&gt;</a> <a class="code" href="../../db/ddf/a00164.html#acd19d8aaeee9346c22c14075af6a6c9b">v3Pos</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="../../db/ddf/a00164.html#a5ad3dd4674d83af85978d27e07833e30">   63</a></span>&#160;  <a class="code" href="../../d9/d69/a00451.html">Vector&lt;3&gt;</a> <a class="code" href="../../db/ddf/a00164.html#a5ad3dd4674d83af85978d27e07833e30">v3PosNew</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="../../db/ddf/a00164.html#a37d016543bd5a32e324eae787afb4298">   64</a></span>&#160;  <a class="code" href="../../d6/db6/a00241.html">Matrix&lt;3&gt;</a> <a class="code" href="../../db/ddf/a00164.html#a37d016543bd5a32e324eae787afb4298">m3V</a>;          <span class="comment">// Accumulator</span></div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="../../db/ddf/a00164.html#a4865341c971f8cab239995a469363926">   65</a></span>&#160;  <a class="code" href="../../d9/d69/a00451.html">Vector&lt;3&gt;</a> <a class="code" href="../../db/ddf/a00164.html#a4865341c971f8cab239995a469363926">v3EpsilonB</a>;   <span class="comment">// Accumulator </span></div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="../../db/ddf/a00164.html#ad1292ecc4603bd068dfb76d26f1d8c2e">   66</a></span>&#160;  <a class="code" href="../../d6/db6/a00241.html">Matrix&lt;3&gt;</a> <a class="code" href="../../db/ddf/a00164.html#ad1292ecc4603bd068dfb76d26f1d8c2e">m3VStarInv</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="../../db/ddf/a00164.html#ada0f036beb33aee0af5425e66dcb4c01">   68</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../db/ddf/a00164.html#ada0f036beb33aee0af5425e66dcb4c01">nMeasurements</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../db/ddf/a00164.html#a197531e9cd7b27dbc909dde2de38d95a">   69</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../db/ddf/a00164.html#a197531e9cd7b27dbc909dde2de38d95a">nOutliers</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="../../db/ddf/a00164.html#ab8a0abbff29712ce64e95661c2be6b6e">   70</a></span>&#160;  std::set&lt;int&gt; <a class="code" href="../../db/ddf/a00164.html#ab8a0abbff29712ce64e95661c2be6b6e">sCameras</a>; <span class="comment">// Which cameras observe this point?</span></div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="../../db/ddf/a00164.html#aa39606136143ab8c89f7f9d3f080482b">   71</a></span>&#160;  std::vector&lt;OffDiagScriptEntry&gt; <a class="code" href="../../db/ddf/a00164.html#aa39606136143ab8c89f7f9d3f080482b">vOffDiagonalScript</a>; <span class="comment">// A record of all camera-camera pairs observing this point</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;};</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">// A measurement of a point by a camera, plus</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">// computation intermediates.</span></div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="../../d0/da7/a00250.html">   76</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/da7/a00250.html">Meas</a></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;{</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="../../d0/da7/a00250.html#a2caee6105d5c1a2267506f77a71ff63b">   78</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="../../d0/da7/a00250.html#a2caee6105d5c1a2267506f77a71ff63b">Meas</a>()</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  {bBad = <span class="keyword">false</span>;}</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="comment">// Which camera/point did this measurement come from?</span></div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="../../d0/da7/a00250.html#ab0e7b8d9424ef99b8203257d7083e83a">   82</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d0/da7/a00250.html#ab0e7b8d9424ef99b8203257d7083e83a">p</a>; <span class="comment">// The point  - called i in MVG</span></div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="../../d0/da7/a00250.html#abcf5bf4ba83521664da4e2d2187dd85e">   83</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d0/da7/a00250.html#abcf5bf4ba83521664da4e2d2187dd85e">c</a>; <span class="comment">// The camera - called j in MVG</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="../../d0/da7/a00250.html#a19776a5f7fc7927583fb3f425da230ff">   85</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="../../d0/da7/a00250.html#a19776a5f7fc7927583fb3f425da230ff">operator&lt;</a>(<span class="keyword">const</span> <a class="code" href="../../d0/da7/a00250.html">Meas</a> &amp;rhs)<span class="keyword"> const</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">  </span>{  <span class="keywordflow">return</span>(c&lt;rhs.<a class="code" href="../../d0/da7/a00250.html#abcf5bf4ba83521664da4e2d2187dd85e">c</a> ||(c==rhs.<a class="code" href="../../d0/da7/a00250.html#abcf5bf4ba83521664da4e2d2187dd85e">c</a> &amp;&amp; p &lt; rhs.<a class="code" href="../../d0/da7/a00250.html#ab0e7b8d9424ef99b8203257d7083e83a">p</a>)); }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  </div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="../../d0/da7/a00250.html#a9bfb1b901c5eba5f13c33069d4991e9c">   88</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../d0/da7/a00250.html#a9bfb1b901c5eba5f13c33069d4991e9c">bBad</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  </div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="../../d0/da7/a00250.html#adad84be45c6ac5f8abe9d003ae5b15b5">   90</a></span>&#160;  <a class="code" href="../../d9/d69/a00451.html">Vector&lt;2&gt;</a> <a class="code" href="../../d0/da7/a00250.html#adad84be45c6ac5f8abe9d003ae5b15b5">v2Found</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="../../d0/da7/a00250.html#a171c59779a71948990c27e9d937d4b2c">   91</a></span>&#160;  <a class="code" href="../../d9/d69/a00451.html">Vector&lt;2&gt;</a> <a class="code" href="../../d0/da7/a00250.html#a171c59779a71948990c27e9d937d4b2c">v2Epsilon</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="../../d0/da7/a00250.html#a74feb9f272e220fa975e10bf30efe7ba">   92</a></span>&#160;  <a class="code" href="../../d6/db6/a00241.html">Matrix&lt;2,6&gt;</a> <a class="code" href="../../d0/da7/a00250.html#a74feb9f272e220fa975e10bf30efe7ba">m26A</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="../../d0/da7/a00250.html#aa8501ded46e3bd6c35c3b11bb9cac8c9">   93</a></span>&#160;  <a class="code" href="../../d6/db6/a00241.html">Matrix&lt;2,3&gt;</a> <a class="code" href="../../d0/da7/a00250.html#aa8501ded46e3bd6c35c3b11bb9cac8c9">m23B</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="../../d0/da7/a00250.html#a3cb2a838d808566c0a2a7608078a631f">   94</a></span>&#160;  <a class="code" href="../../d6/db6/a00241.html">Matrix&lt;6,3&gt;</a> <a class="code" href="../../d0/da7/a00250.html#a3cb2a838d808566c0a2a7608078a631f">m63W</a>; </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="../../d0/da7/a00250.html#a704a84d9d9f1d578eb6f44c6b70b714f">   95</a></span>&#160;  <a class="code" href="../../d6/db6/a00241.html">Matrix&lt;6,3&gt;</a> <a class="code" href="../../d0/da7/a00250.html#a704a84d9d9f1d578eb6f44c6b70b714f">m63Y</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="../../d0/da7/a00250.html#a70eb53731067ad51799651e3b900ca9d">   96</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="../../d0/da7/a00250.html#a70eb53731067ad51799651e3b900ca9d">dSqrtInvNoise</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="comment">// Temporary projection quantities</span></div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="../../d0/da7/a00250.html#afd36be4f2c034fb894b2b4ceae296fe4">   99</a></span>&#160;  <a class="code" href="../../d9/d69/a00451.html">Vector&lt;3&gt;</a> <a class="code" href="../../d0/da7/a00250.html#afd36be4f2c034fb894b2b4ceae296fe4">v3Cam</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="../../d0/da7/a00250.html#a709bd4c18cac0ffc5aa44b15629c8783">  100</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="../../d0/da7/a00250.html#a709bd4c18cac0ffc5aa44b15629c8783">dErrorSquared</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="../../d0/da7/a00250.html#afaa80fd03932c3fa501907a8dff5b7cb">  101</a></span>&#160;  <a class="code" href="../../d6/db6/a00241.html">Matrix&lt;2&gt;</a> <a class="code" href="../../d0/da7/a00250.html#afaa80fd03932c3fa501907a8dff5b7cb">m2CamDerivs</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;};</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">// Core bundle adjustment class</span></div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html">  105</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d4/d8c/a00035.html">Bundle</a></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <a class="code" href="../../d4/d8c/a00035.html">Bundle</a>(<span class="keyword">const</span> <a class="code" href="../../d0/d33/a00027.html">ATANCamera</a> &amp;TCam);   <span class="comment">// We need the camera model because we do full distorting projection in the bundle adjuster. Could probably get away with a linear approximation.</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordtype">int</span> AddCamera(<a class="code" href="../../df/d73/a00358.html">SE3&lt;&gt;</a> se3CamFromWorld, <span class="keywordtype">bool</span> bFixed); <span class="comment">// Add a viewpoint. bFixed signifies that this one is not to be adjusted.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordtype">int</span> AddPoint(<a class="code" href="../../d9/d69/a00451.html">Vector&lt;3&gt;</a> v3Pos);       <span class="comment">// Add a map point.</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordtype">void</span> AddMeas(<span class="keywordtype">int</span> nCam, <span class="keywordtype">int</span> nPoint, <a class="code" href="../../d9/d69/a00451.html">Vector&lt;2&gt;</a> v2Pos, <span class="keywordtype">double</span> dSigmaSquared); <span class="comment">// Add a measurement</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordtype">int</span> Compute(<span class="keywordtype">bool</span> *pbAbortSignal);    <span class="comment">// Perform bundle adjustment. Aborts if *pbAbortSignal gets set to true. Returns number of accepted update iterations, or negative on error.</span></div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#abd17195bae194ceaa0de36753f73be44">  114</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="../../d4/d8c/a00035.html#abd17195bae194ceaa0de36753f73be44">Converged</a>() { <span class="keywordflow">return</span> mbConverged;}  <span class="comment">// Has bundle adjustment converged?</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <a class="code" href="../../d9/d69/a00451.html">Vector&lt;3&gt;</a> GetPoint(<span class="keywordtype">int</span> n);       <span class="comment">// Point coords after adjustment</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="../../df/d73/a00358.html">SE3&lt;&gt;</a> GetCamera(<span class="keywordtype">int</span> n);            <span class="comment">// Camera pose after adjustment</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  std::vector&lt;std::pair&lt;int,int&gt; &gt; GetOutlierMeasurements();  <span class="comment">// Measurements flagged as outliers</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  std::set&lt;int&gt; GetOutliers();                                <span class="comment">// Points flagged as outliers</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> ProjectAndFindSquaredError(<a class="code" href="../../d0/da7/a00250.html">Meas</a> &amp;meas); <span class="comment">// Project a single point in a single view, compare to measurement</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> MEstimator&gt; <span class="keywordtype">bool</span> Do_LM_Step(<span class="keywordtype">bool</span> *pbAbortSignal, <span class="keywordtype">double</span> *lastMdSigmaSquared);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> MEstimator&gt; <span class="keywordtype">double</span> FindNewError();</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordtype">void</span> GenerateMeasLUTs();</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordtype">void</span> GenerateOffDiagScripts();</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordtype">void</span> ClearAccumulators(); <span class="comment">// Zero temporary quantities stored in cameras and points</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordtype">void</span> ModifyLambda_GoodStep();</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordtype">void</span> ModifyLambda_BadStep();</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  </div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#a379dd6826aeccef5a2fbe3855a65e0d1">  131</a></span>&#160;  std::vector&lt;ExtendedMapPoint&gt; <a class="code" href="../../d4/d8c/a00035.html#a379dd6826aeccef5a2fbe3855a65e0d1">mvPoints</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#a4965716bca1e5a6ee6ea83505e0c8872">  132</a></span>&#160;  std::vector&lt;Camera&gt; <a class="code" href="../../d4/d8c/a00035.html#a4965716bca1e5a6ee6ea83505e0c8872">mvCameras</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#a214f74212f2043b03ac2e349dd24e2fb">  133</a></span>&#160;  std::list&lt;Meas&gt; <a class="code" href="../../d4/d8c/a00035.html#a214f74212f2043b03ac2e349dd24e2fb">mMeasList</a>;</div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#a69935075648a203647d2460b18aa300d">  134</a></span>&#160;  std::vector&lt;std::pair&lt;int,int&gt; &gt; <a class="code" href="../../d4/d8c/a00035.html#a69935075648a203647d2460b18aa300d">mvOutlierMeasurementIdx</a>;  <span class="comment">// p-c pair</span></div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#ae91413d21ab3299b200edd9740cedf40">  135</a></span>&#160;  std::vector&lt;std::vector&lt;Meas*&gt; &gt; <a class="code" href="../../d4/d8c/a00035.html#ae91413d21ab3299b200edd9740cedf40">mvMeasLUTs</a>;  <span class="comment">//Each camera gets a per-point table of pointers to valid measurements</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  </div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#af18c4caf50d892e95ac4dd28a6af7df3">  137</a></span>&#160;  <a class="code" href="../../d0/d33/a00027.html">ATANCamera</a> <a class="code" href="../../d4/d8c/a00035.html#af18c4caf50d892e95ac4dd28a6af7df3">mCamera</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#af45f2153795ba00d217dcecd3e1494f9">  138</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d4/d8c/a00035.html#af45f2153795ba00d217dcecd3e1494f9">mnCamsToUpdate</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#a6e6cf9981efa64e2b2f2594e71be8851">  139</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d4/d8c/a00035.html#a6e6cf9981efa64e2b2f2594e71be8851">mnStartRow</a>;</div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#a6a863117606a50a3f186ce9794613b85">  140</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="../../d4/d8c/a00035.html#a6a863117606a50a3f186ce9794613b85">mdSigmaSquared</a>;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#a531fe606b3a7030d7220e9301264264d">  141</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="../../d4/d8c/a00035.html#a531fe606b3a7030d7220e9301264264d">mdLambda</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#ae0021b043e59d902a87a0a5c91f17c2a">  142</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="../../d4/d8c/a00035.html#ae0021b043e59d902a87a0a5c91f17c2a">mdLambdaFactor</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#a6da9c6a4ca90ebc748231f990fdc1d24">  143</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../d4/d8c/a00035.html#a6da9c6a4ca90ebc748231f990fdc1d24">mbConverged</a>;</div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#a56e6ba045da1462be2b8e2215e6f6727">  144</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../d4/d8c/a00035.html#a56e6ba045da1462be2b8e2215e6f6727">mbHitMaxIterations</a>;</div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#ab521e83e08b3906e73b9bb66e208c151">  145</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d4/d8c/a00035.html#ab521e83e08b3906e73b9bb66e208c151">mnCounter</a>;</div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#ade4e715b810343aac84a4dd4289a5988">  146</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d4/d8c/a00035.html#ade4e715b810343aac84a4dd4289a5988">mnAccepted</a>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  </div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#a81618fea88a96c2d2325ccb9dba82370">  148</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d4/d8c/a00035.html#a81618fea88a96c2d2325ccb9dba82370">mgvnMaxIterations</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#a22357272762d823c2a891ea85edb09e6">  149</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="../../d4/d8c/a00035.html#a22357272762d823c2a891ea85edb09e6">mgvdUpdateConvergenceLimit</a>;</div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#ae89eaca6fd79e53d22e4556654dee4fe">  150</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d4/d8c/a00035.html#ae89eaca6fd79e53d22e4556654dee4fe">mgvnBundleCout</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  </div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="../../d4/d8c/a00035.html#aed90a60c6f2610155e62432832b1a797">  152</a></span>&#160;  <span class="keywordtype">bool</span> *<a class="code" href="../../d4/d8c/a00035.html#aed90a60c6f2610155e62432832b1a797">mpbAbortSignal</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;};</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="a00035_html_a531fe606b3a7030d7220e9301264264d"><div class="ttname"><a href="../../d4/d8c/a00035.html#a531fe606b3a7030d7220e9301264264d">Bundle::mdLambda</a></div><div class="ttdeci">double mdLambda</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00141">Bundle.h:141</a></div></div>
<div class="ttc" id="a00035_html_ab521e83e08b3906e73b9bb66e208c151"><div class="ttname"><a href="../../d4/d8c/a00035.html#ab521e83e08b3906e73b9bb66e208c151">Bundle::mnCounter</a></div><div class="ttdeci">int mnCounter</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00145">Bundle.h:145</a></div></div>
<div class="ttc" id="a00250_html_aa8501ded46e3bd6c35c3b11bb9cac8c9"><div class="ttname"><a href="../../d0/da7/a00250.html#aa8501ded46e3bd6c35c3b11bb9cac8c9">Meas::m23B</a></div><div class="ttdeci">Matrix&lt; 2, 3 &gt; m23B</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00093">Bundle.h:93</a></div></div>
<div class="ttc" id="a00164_html_ab8a0abbff29712ce64e95661c2be6b6e"><div class="ttname"><a href="../../db/ddf/a00164.html#ab8a0abbff29712ce64e95661c2be6b6e">ExtendedMapPoint::sCameras</a></div><div class="ttdeci">std::set&lt; int &gt; sCameras</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00070">Bundle.h:70</a></div></div>
<div class="ttc" id="a00250_html_abcf5bf4ba83521664da4e2d2187dd85e"><div class="ttname"><a href="../../d0/da7/a00250.html#abcf5bf4ba83521664da4e2d2187dd85e">Meas::c</a></div><div class="ttdeci">int c</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00083">Bundle.h:83</a></div></div>
<div class="ttc" id="a00250_html_a19776a5f7fc7927583fb3f425da230ff"><div class="ttname"><a href="../../d0/da7/a00250.html#a19776a5f7fc7927583fb3f425da230ff">Meas::operator&lt;</a></div><div class="ttdeci">bool operator&lt;(const Meas &amp;rhs) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00085">Bundle.h:85</a></div></div>
<div class="ttc" id="a00027_html"><div class="ttname"><a href="../../d0/d33/a00027.html">ATANCamera</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc5/a00480_source.html#l00066">ATANCamera.h:66</a></div></div>
<div class="ttc" id="a00036_html_a6db112ab3a07d13290bc72654b4a494a"><div class="ttname"><a href="../../de/d8c/a00036.html#a6db112ab3a07d13290bc72654b4a494a">Camera::se3CfW</a></div><div class="ttdeci">SE3 se3CfW</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00043">Bundle.h:43</a></div></div>
<div class="ttc" id="a00035_html_ae89eaca6fd79e53d22e4556654dee4fe"><div class="ttname"><a href="../../d4/d8c/a00035.html#ae89eaca6fd79e53d22e4556654dee4fe">Bundle::mgvnBundleCout</a></div><div class="ttdeci">int mgvnBundleCout</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00150">Bundle.h:150</a></div></div>
<div class="ttc" id="a00164_html_a37d016543bd5a32e324eae787afb4298"><div class="ttname"><a href="../../db/ddf/a00164.html#a37d016543bd5a32e324eae787afb4298">ExtendedMapPoint::m3V</a></div><div class="ttdeci">Matrix&lt; 3 &gt; m3V</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00064">Bundle.h:64</a></div></div>
<div class="ttc" id="a00250_html_a3cb2a838d808566c0a2a7608078a631f"><div class="ttname"><a href="../../d0/da7/a00250.html#a3cb2a838d808566c0a2a7608078a631f">Meas::m63W</a></div><div class="ttdeci">Matrix&lt; 6, 3 &gt; m63W</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00094">Bundle.h:94</a></div></div>
<div class="ttc" id="a00250_html_a171c59779a71948990c27e9d937d4b2c"><div class="ttname"><a href="../../d0/da7/a00250.html#a171c59779a71948990c27e9d937d4b2c">Meas::v2Epsilon</a></div><div class="ttdeci">Vector&lt; 2 &gt; v2Epsilon</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00091">Bundle.h:91</a></div></div>
<div class="ttc" id="a00035_html"><div class="ttname"><a href="../../d4/d8c/a00035.html">Bundle</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00105">Bundle.h:105</a></div></div>
<div class="ttc" id="a00164_html"><div class="ttname"><a href="../../db/ddf/a00164.html">ExtendedMapPoint</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00058">Bundle.h:58</a></div></div>
<div class="ttc" id="a00035_html_a22357272762d823c2a891ea85edb09e6"><div class="ttname"><a href="../../d4/d8c/a00035.html#a22357272762d823c2a891ea85edb09e6">Bundle::mgvdUpdateConvergenceLimit</a></div><div class="ttdeci">double mgvdUpdateConvergenceLimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00149">Bundle.h:149</a></div></div>
<div class="ttc" id="a00035_html_a56e6ba045da1462be2b8e2215e6f6727"><div class="ttname"><a href="../../d4/d8c/a00035.html#a56e6ba045da1462be2b8e2215e6f6727">Bundle::mbHitMaxIterations</a></div><div class="ttdeci">bool mbHitMaxIterations</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00144">Bundle.h:144</a></div></div>
<div class="ttc" id="a00523_html"><div class="ttname"><a href="../../d0/de7/a00523.html">TooN</a></div><div class="ttdoc">Everything lives inside this namespace. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dea/a00478_source.html#l00048">allocator.hh:48</a></div></div>
<div class="ttc" id="a00036_html_ac4a084203a2f051c9b41ef2f552517d1"><div class="ttname"><a href="../../de/d8c/a00036.html#ac4a084203a2f051c9b41ef2f552517d1">Camera::bFixed</a></div><div class="ttdeci">bool bFixed</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00042">Bundle.h:42</a></div></div>
<div class="ttc" id="a00250_html"><div class="ttname"><a href="../../d0/da7/a00250.html">Meas</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00076">Bundle.h:76</a></div></div>
<div class="ttc" id="a00035_html_a6e6cf9981efa64e2b2f2594e71be8851"><div class="ttname"><a href="../../d4/d8c/a00035.html#a6e6cf9981efa64e2b2f2594e71be8851">Bundle::mnStartRow</a></div><div class="ttdeci">int mnStartRow</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00139">Bundle.h:139</a></div></div>
<div class="ttc" id="a00035_html_a6da9c6a4ca90ebc748231f990fdc1d24"><div class="ttname"><a href="../../d4/d8c/a00035.html#a6da9c6a4ca90ebc748231f990fdc1d24">Bundle::mbConverged</a></div><div class="ttdeci">bool mbConverged</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00143">Bundle.h:143</a></div></div>
<div class="ttc" id="a00250_html_afd36be4f2c034fb894b2b4ceae296fe4"><div class="ttname"><a href="../../d0/da7/a00250.html#afd36be4f2c034fb894b2b4ceae296fe4">Meas::v3Cam</a></div><div class="ttdeci">Vector&lt; 3 &gt; v3Cam</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00099">Bundle.h:99</a></div></div>
<div class="ttc" id="a00164_html_a197531e9cd7b27dbc909dde2de38d95a"><div class="ttname"><a href="../../db/ddf/a00164.html#a197531e9cd7b27dbc909dde2de38d95a">ExtendedMapPoint::nOutliers</a></div><div class="ttdeci">int nOutliers</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00069">Bundle.h:69</a></div></div>
<div class="ttc" id="a00241_html"><div class="ttname"><a href="../../d6/db6/a00241.html">TooN::Matrix&lt; 6 &gt;</a></div></div>
<div class="ttc" id="a00035_html_a6a863117606a50a3f186ce9794613b85"><div class="ttname"><a href="../../d4/d8c/a00035.html#a6a863117606a50a3f186ce9794613b85">Bundle::mdSigmaSquared</a></div><div class="ttdeci">double mdSigmaSquared</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00140">Bundle.h:140</a></div></div>
<div class="ttc" id="a00599_html"><div class="ttname"><a href="../../d5/d8a/a00599.html">TooN.h</a></div></div>
<div class="ttc" id="a00035_html_ae0021b043e59d902a87a0a5c91f17c2a"><div class="ttname"><a href="../../d4/d8c/a00035.html#ae0021b043e59d902a87a0a5c91f17c2a">Bundle::mdLambdaFactor</a></div><div class="ttdeci">double mdLambdaFactor</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00142">Bundle.h:142</a></div></div>
<div class="ttc" id="a00036_html_a0ab90dd2552d9f611dc17076212d8c42"><div class="ttname"><a href="../../de/d8c/a00036.html#a0ab90dd2552d9f611dc17076212d8c42">Camera::m6U</a></div><div class="ttdeci">Matrix&lt; 6 &gt; m6U</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00045">Bundle.h:45</a></div></div>
<div class="ttc" id="a00250_html_a709bd4c18cac0ffc5aa44b15629c8783"><div class="ttname"><a href="../../d0/da7/a00250.html#a709bd4c18cac0ffc5aa44b15629c8783">Meas::dErrorSquared</a></div><div class="ttdeci">double dErrorSquared</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00100">Bundle.h:100</a></div></div>
<div class="ttc" id="a00250_html_adad84be45c6ac5f8abe9d003ae5b15b5"><div class="ttname"><a href="../../d0/da7/a00250.html#adad84be45c6ac5f8abe9d003ae5b15b5">Meas::v2Found</a></div><div class="ttdeci">Vector&lt; 2 &gt; v2Found</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00090">Bundle.h:90</a></div></div>
<div class="ttc" id="a00164_html_a5ad3dd4674d83af85978d27e07833e30"><div class="ttname"><a href="../../db/ddf/a00164.html#a5ad3dd4674d83af85978d27e07833e30">ExtendedMapPoint::v3PosNew</a></div><div class="ttdeci">Vector&lt; 3 &gt; v3PosNew</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00063">Bundle.h:63</a></div></div>
<div class="ttc" id="a00035_html_a214f74212f2043b03ac2e349dd24e2fb"><div class="ttname"><a href="../../d4/d8c/a00035.html#a214f74212f2043b03ac2e349dd24e2fb">Bundle::mMeasList</a></div><div class="ttdeci">std::list&lt; Meas &gt; mMeasList</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00133">Bundle.h:133</a></div></div>
<div class="ttc" id="a00358_html"><div class="ttname"><a href="../../df/d73/a00358.html">TooN::SE3</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d21/a00573_source.html#l00050">se3.h:50</a></div></div>
<div class="ttc" id="a00035_html_aed90a60c6f2610155e62432832b1a797"><div class="ttname"><a href="../../d4/d8c/a00035.html#aed90a60c6f2610155e62432832b1a797">Bundle::mpbAbortSignal</a></div><div class="ttdeci">bool * mpbAbortSignal</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00152">Bundle.h:152</a></div></div>
<div class="ttc" id="a00250_html_ab0e7b8d9424ef99b8203257d7083e83a"><div class="ttname"><a href="../../d0/da7/a00250.html#ab0e7b8d9424ef99b8203257d7083e83a">Meas::p</a></div><div class="ttdeci">int p</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00082">Bundle.h:82</a></div></div>
<div class="ttc" id="a00250_html_a74feb9f272e220fa975e10bf30efe7ba"><div class="ttname"><a href="../../d0/da7/a00250.html#a74feb9f272e220fa975e10bf30efe7ba">Meas::m26A</a></div><div class="ttdeci">Matrix&lt; 2, 6 &gt; m26A</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00092">Bundle.h:92</a></div></div>
<div class="ttc" id="a00271_html_a3612a5381e369b88d44c68b3ee18ba0d"><div class="ttname"><a href="../../dd/d86/a00271.html#a3612a5381e369b88d44c68b3ee18ba0d">OffDiagScriptEntry::k</a></div><div class="ttdeci">int k</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00054">Bundle.h:54</a></div></div>
<div class="ttc" id="a00035_html_a4965716bca1e5a6ee6ea83505e0c8872"><div class="ttname"><a href="../../d4/d8c/a00035.html#a4965716bca1e5a6ee6ea83505e0c8872">Bundle::mvCameras</a></div><div class="ttdeci">std::vector&lt; Camera &gt; mvCameras</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00132">Bundle.h:132</a></div></div>
<div class="ttc" id="a00164_html_ada0f036beb33aee0af5425e66dcb4c01"><div class="ttname"><a href="../../db/ddf/a00164.html#ada0f036beb33aee0af5425e66dcb4c01">ExtendedMapPoint::nMeasurements</a></div><div class="ttdeci">int nMeasurements</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00068">Bundle.h:68</a></div></div>
<div class="ttc" id="a00250_html_a9bfb1b901c5eba5f13c33069d4991e9c"><div class="ttname"><a href="../../d0/da7/a00250.html#a9bfb1b901c5eba5f13c33069d4991e9c">Meas::bBad</a></div><div class="ttdeci">bool bBad</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00088">Bundle.h:88</a></div></div>
<div class="ttc" id="a00035_html_af18c4caf50d892e95ac4dd28a6af7df3"><div class="ttname"><a href="../../d4/d8c/a00035.html#af18c4caf50d892e95ac4dd28a6af7df3">Bundle::mCamera</a></div><div class="ttdeci">ATANCamera mCamera</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00137">Bundle.h:137</a></div></div>
<div class="ttc" id="a00271_html_a8c2d25fd8c758dfd1bc154993265a63b"><div class="ttname"><a href="../../dd/d86/a00271.html#a8c2d25fd8c758dfd1bc154993265a63b">OffDiagScriptEntry::j</a></div><div class="ttdeci">int j</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00053">Bundle.h:53</a></div></div>
<div class="ttc" id="a00036_html_a525ab230a879409ada62de33e348aa73"><div class="ttname"><a href="../../de/d8c/a00036.html#a525ab230a879409ada62de33e348aa73">Camera::v6EpsilonA</a></div><div class="ttdeci">Vector&lt; 6 &gt; v6EpsilonA</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00046">Bundle.h:46</a></div></div>
<div class="ttc" id="a00035_html_ade4e715b810343aac84a4dd4289a5988"><div class="ttname"><a href="../../d4/d8c/a00035.html#ade4e715b810343aac84a4dd4289a5988">Bundle::mnAccepted</a></div><div class="ttdeci">int mnAccepted</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00146">Bundle.h:146</a></div></div>
<div class="ttc" id="a00164_html_a9a4ac22fdc8e1d9b8dd16e3baaa61d1e"><div class="ttname"><a href="../../db/ddf/a00164.html#a9a4ac22fdc8e1d9b8dd16e3baaa61d1e">ExtendedMapPoint::ExtendedMapPoint</a></div><div class="ttdeci">ExtendedMapPoint()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00060">Bundle.h:60</a></div></div>
<div class="ttc" id="a00164_html_acd19d8aaeee9346c22c14075af6a6c9b"><div class="ttname"><a href="../../db/ddf/a00164.html#acd19d8aaeee9346c22c14075af6a6c9b">ExtendedMapPoint::v3Pos</a></div><div class="ttdeci">Vector&lt; 3 &gt; v3Pos</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00062">Bundle.h:62</a></div></div>
<div class="ttc" id="a00250_html_a704a84d9d9f1d578eb6f44c6b70b714f"><div class="ttname"><a href="../../d0/da7/a00250.html#a704a84d9d9f1d578eb6f44c6b70b714f">Meas::m63Y</a></div><div class="ttdeci">Matrix&lt; 6, 3 &gt; m63Y</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00095">Bundle.h:95</a></div></div>
<div class="ttc" id="a00250_html_a2caee6105d5c1a2267506f77a71ff63b"><div class="ttname"><a href="../../d0/da7/a00250.html#a2caee6105d5c1a2267506f77a71ff63b">Meas::Meas</a></div><div class="ttdeci">Meas()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00078">Bundle.h:78</a></div></div>
<div class="ttc" id="a00164_html_aa39606136143ab8c89f7f9d3f080482b"><div class="ttname"><a href="../../db/ddf/a00164.html#aa39606136143ab8c89f7f9d3f080482b">ExtendedMapPoint::vOffDiagonalScript</a></div><div class="ttdeci">std::vector&lt; OffDiagScriptEntry &gt; vOffDiagonalScript</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00071">Bundle.h:71</a></div></div>
<div class="ttc" id="a00250_html_afaa80fd03932c3fa501907a8dff5b7cb"><div class="ttname"><a href="../../d0/da7/a00250.html#afaa80fd03932c3fa501907a8dff5b7cb">Meas::m2CamDerivs</a></div><div class="ttdeci">Matrix&lt; 2 &gt; m2CamDerivs</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00101">Bundle.h:101</a></div></div>
<div class="ttc" id="a00036_html_aa97ebd03827e09ad7ea072eecf80026e"><div class="ttname"><a href="../../de/d8c/a00036.html#aa97ebd03827e09ad7ea072eecf80026e">Camera::nStartRow</a></div><div class="ttdeci">int nStartRow</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00047">Bundle.h:47</a></div></div>
<div class="ttc" id="a00164_html_ad1292ecc4603bd068dfb76d26f1d8c2e"><div class="ttname"><a href="../../db/ddf/a00164.html#ad1292ecc4603bd068dfb76d26f1d8c2e">ExtendedMapPoint::m3VStarInv</a></div><div class="ttdeci">Matrix&lt; 3 &gt; m3VStarInv</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00066">Bundle.h:66</a></div></div>
<div class="ttc" id="a00250_html_a70eb53731067ad51799651e3b900ca9d"><div class="ttname"><a href="../../d0/da7/a00250.html#a70eb53731067ad51799651e3b900ca9d">Meas::dSqrtInvNoise</a></div><div class="ttdeci">double dSqrtInvNoise</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00096">Bundle.h:96</a></div></div>
<div class="ttc" id="a00480_html"><div class="ttname"><a href="../../d9/dc5/a00480.html">ATANCamera.h</a></div></div>
<div class="ttc" id="a00451_html"><div class="ttname"><a href="../../d9/d69/a00451.html">TooN::Vector&lt; 6 &gt;</a></div></div>
<div class="ttc" id="a00035_html_a81618fea88a96c2d2325ccb9dba82370"><div class="ttname"><a href="../../d4/d8c/a00035.html#a81618fea88a96c2d2325ccb9dba82370">Bundle::mgvnMaxIterations</a></div><div class="ttdeci">int mgvnMaxIterations</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00148">Bundle.h:148</a></div></div>
<div class="ttc" id="a00035_html_a379dd6826aeccef5a2fbe3855a65e0d1"><div class="ttname"><a href="../../d4/d8c/a00035.html#a379dd6826aeccef5a2fbe3855a65e0d1">Bundle::mvPoints</a></div><div class="ttdeci">std::vector&lt; ExtendedMapPoint &gt; mvPoints</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00131">Bundle.h:131</a></div></div>
<div class="ttc" id="a00036_html_a893d1ca216567d78ef618f8134b56e71"><div class="ttname"><a href="../../de/d8c/a00036.html#a893d1ca216567d78ef618f8134b56e71">Camera::se3CfWNew</a></div><div class="ttdeci">SE3 se3CfWNew</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00044">Bundle.h:44</a></div></div>
<div class="ttc" id="a00035_html_abd17195bae194ceaa0de36753f73be44"><div class="ttname"><a href="../../d4/d8c/a00035.html#abd17195bae194ceaa0de36753f73be44">Bundle::Converged</a></div><div class="ttdeci">bool Converged()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00114">Bundle.h:114</a></div></div>
<div class="ttc" id="a00035_html_a69935075648a203647d2460b18aa300d"><div class="ttname"><a href="../../d4/d8c/a00035.html#a69935075648a203647d2460b18aa300d">Bundle::mvOutlierMeasurementIdx</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; int, int &gt; &gt; mvOutlierMeasurementIdx</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00134">Bundle.h:134</a></div></div>
<div class="ttc" id="a00035_html_af45f2153795ba00d217dcecd3e1494f9"><div class="ttname"><a href="../../d4/d8c/a00035.html#af45f2153795ba00d217dcecd3e1494f9">Bundle::mnCamsToUpdate</a></div><div class="ttdeci">int mnCamsToUpdate</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00138">Bundle.h:138</a></div></div>
<div class="ttc" id="a00035_html_ae91413d21ab3299b200edd9740cedf40"><div class="ttname"><a href="../../d4/d8c/a00035.html#ae91413d21ab3299b200edd9740cedf40">Bundle::mvMeasLUTs</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Meas * &gt; &gt; mvMeasLUTs</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00135">Bundle.h:135</a></div></div>
<div class="ttc" id="a00573_html"><div class="ttname"><a href="../../d6/d21/a00573.html">se3.h</a></div></div>
<div class="ttc" id="a00036_html"><div class="ttname"><a href="../../de/d8c/a00036.html">Camera</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00040">Bundle.h:40</a></div></div>
<div class="ttc" id="a00519_html"><div class="ttname"><a href="../../dd/d4d/a00519.html">globals.h</a></div></div>
<div class="ttc" id="a00271_html"><div class="ttname"><a href="../../dd/d86/a00271.html">OffDiagScriptEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00051">Bundle.h:51</a></div></div>
<div class="ttc" id="a00164_html_a4865341c971f8cab239995a469363926"><div class="ttname"><a href="../../db/ddf/a00164.html#a4865341c971f8cab239995a469363926">ExtendedMapPoint::v3EpsilonB</a></div><div class="ttdeci">Vector&lt; 3 &gt; v3EpsilonB</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1a/a00485_source.html#l00065">Bundle.h:65</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon May 25 2015 17:53:27 for SLAMflex SE by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
